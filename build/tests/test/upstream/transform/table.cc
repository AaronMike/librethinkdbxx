// auto-generated by yaml_to_cxx.py from test/upstream/transform/table.yaml
#include "testlib.h"
void test_upstream_transform_table() {
    enter_section("test_upstream_transform_table: Tests manipulation operations on tables");
    temp_table tbl_table;
    R::Query tbl = tbl_table.table();
    TEST_DO(maybe_run(tbl.insert(R::array(R::object("a", R::array("k1", "v1")), R::object("a", R::array("k2", "v2")))), *conn));
    TEST_EQ(maybe_run(tbl.map(R::row["a"]).coerce_to("object"), *conn), (R::Object{{"k1", "v1"}, {"k2", "v2"}}));
    TEST_EQ(maybe_run(tbl.limit(1).type_of(), *conn), ("SELECTION<STREAM>"));
    TEST_EQ(maybe_run(tbl.limit(1).coerce_to("array").type_of(), *conn), ("ARRAY"));
    exit_section();
}
