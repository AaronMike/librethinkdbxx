// auto-generated by yaml_to_cxx.py from test/upstream/regression/3759.yaml
#include "testlib.h"
void test_upstream_regression_3759() {
    enter_section("test_upstream_regression_3759: Test cleanup of cursors on the server");
    temp_table tbl_table;
    R::Query tbl = tbl_table.table();
    TEST_EQ(maybe_run(R::db("rethinkdb").table("jobs").map([=](){ return R::expr(1); }), *conn), (R::Array{1}));
    TEST_EQ(maybe_run(R::db("rethinkdb").table("jobs").map([=](){ return R::expr(1); }), *conn, R::optargs("noreply", true)), (R::Nil()));
    TEST_EQ(maybe_run(R::db("rethinkdb").table("jobs").map([=](){ return R::expr(1); }), *conn, R::optargs("noreply", true)), (R::Nil()));
    TEST_EQ(maybe_run(R::db("rethinkdb").table("jobs").map([=](){ return R::expr(1); }), *conn), (R::Array{1}));
    exit_section();
}
