// auto-generated by yaml_to_cxx.py from test/upstream/regression/1001.yaml
#include "testlib.h"
void test_upstream_regression_1001() {
    enter_section("test_upstream_regression_1001: 1001 (null + between + sindexes)");
    temp_table tbl_table;
    R::Query tbl = tbl_table.table();
    TEST_DO(maybe_run(tbl.insert(R::object("a", R::Nil())), *conn));
    TEST_DO(maybe_run(tbl.index_create("a"), *conn));
    TEST_DO(maybe_run(tbl.index_create("b"), *conn));
    TEST_DO(maybe_run(tbl.index_wait().pluck("index", "ready"), *conn));
    TEST_EQ(maybe_run(tbl.between(R::minval, R::maxval).count(), *conn), (1));
    TEST_EQ(maybe_run(tbl.between(R::minval, R::maxval, R::OptArgs{{"index", R::expr("a")}}).count(), *conn), (0));
    TEST_EQ(maybe_run(tbl.between(R::minval, R::maxval, R::OptArgs{{"index", R::expr("b")}}).count(), *conn), (0));
    exit_section();
}
